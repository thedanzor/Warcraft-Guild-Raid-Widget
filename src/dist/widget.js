!function e(r,a,n){function t(s,o){if(!a[s]){if(!r[s]){var c="function"==typeof require&&require;if(!o&&c)return c(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=a[s]={exports:{}};r[s][0].call(u.exports,function(e){var a=r[s][1][e];return t(a?a:e)},u,u.exports,e,r,a,n)}return a[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)t(n[s]);return t}({1:[function(e,r,a){var n=e("./utils/request"),t=e("./modules/filterMembers"),i=e("./modules/collectCharData"),s=e("./views/displayChar"),o=function(e){if(e){var r,a=document.querySelector("#wow_widget"),o=e.apiSettings.region+"/wow/guild/"+e.guildSettings.guild+"?fields=members&locale=en_GB&apikey="+e.apiSettings.APIKey;if(r=n(o)){var c=t(r.members,e);if(c){var l=i(c,e);l&&s(l,a)}}}};o(n("./config.json"))},{"./modules/collectCharData":3,"./modules/filterMembers":4,"./utils/request":5,"./views/displayChar":6}],2:[function(e,r,a){r.exports=function(e,r,a){if(!e||!r||!a)return" poor";var n,t=0;return e>=840&&t++,r[0]>=8e3&r[1]>=12e3&&t++,3===a[1]&&t++,n=3===t?"epic":2===t?"good":"poor"}},{}],3:[function(e,r,a){var n=e("../utils/request");r.exports=function(e,r){if(e&&r){for(var a=[],t=0;t<e.length;t++)if(e[t].character.level===r.guildSettings.levelFilter){var i=r.apiSettings.region+"/wow/character/"+e[t].character.realm+"/"+e[t].character.name+"?fields=progression%2Creputation%2Citems&locale=en_GB&apikey="+r.apiSettings.APIKey,s=n(i);s.status||"nok"===s.status||a.push(s)}return a}}},{"../utils/request":5}],4:[function(e,r,a){r.exports=function(e,r){if(e){for(var a=[],n=0;n<e.length;n++)e[n].character.level===r.guildSettings.levelFilter&&a.push(e[n]);return a}}},{}],5:[function(e,r,a){var n=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(),JSON.parse(r.responseText)};r.exports=n},{}],6:[function(e,r,a){var n=e("../modules/charCheck"),t=function(e,r){if(e&&r){for(var a=0;a<r.length;a++)if(r[a].name===e){var n=[];return n.push(r[a].value),n.push(r[a].max),r[a].value>=8e3&r[a].max>=12e3?n.push("Has Access"):n.push("No Access"),n}return!1}},i=function(e){if(!e||!e.mainHand)return"error";var r=e.mainHand,a=0,n=[];if(r.artifactId)for(var t=0;t<r.artifactTraits.length;t++)a+=r.artifactTraits[t].rank;return n.push(a),n.push(r.relics.length),n};r.exports=function(e,r){if(e&&r){for(var a=0;a<e.length;a++)if(e[a].name){var s=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div"),u=document.createElement("div"),p=document.createElement("div");s.className="char-wrapper",o.className="char-username",c.className="char-raidprogress",l.className="char-suramar",u.className="char-gear",p.className="char-gearscore";var d=t("The Nightfallen",e[a].reputation);d&&(l.innerHTML="<span>Suramar:</span> "+d[0]+"/"+d[1]+" / "+d[2]);var h=i(e[a].items);if("error"===h)console.log("ERROR: The character ("+e[a].name+") seems to be invalid, in this case their weapon is not equiped");else{var f=e[a].items.averageItemLevelEquipped,m=n(f,d,h);o.className+=" "+m,o.innerHTML=e[a].name,c.innerHTML="<span>Raid Progress - Heroic:</span> "+e[a].progression.raids[35].heroic+" / <span>Mythic:</span> "+e[a].progression.raids[35].mythic,u.innerHTML="<span>Weapon Rank:</span> "+h[0]+" / Relic Slots used: "+h[1],p.innerHTML="<span>"+f+"</span> ilvl",s.appendChild(o),s.appendChild(p),s.appendChild(u),d&&s.appendChild(l),s.appendChild(c),r.appendChild(s)}}else console.log("ERROR: A character was parsed that has invalid data, no name or information found. This can happen when the character is no longer in the guild or on the realm");r.querySelector(".message").innerHTML="Has processed "+e.length+" enteries from the guild roster."}}},{"../modules/charCheck":2}]},{},[1]);
